# ============================================================================
# HPC Monitoring - Environment Configuration
# ============================================================================
# Copy this file to .env and update with your actual values
# cp .env.example .env

# ============================================================================
# Application Environment
# ============================================================================
NODE_ENV=development
# Options: development, production

BUILD_TARGET=development
# Docker build target (used by docker-compose)
# Options: development, production

# ============================================================================
# API Server Configuration
# ============================================================================
API_PORT=3001
API_HOST=localhost
# For Docker: use 0.0.0.0 to accept connections from all interfaces

# CORS Configuration
CORS_ORIGIN=http://localhost:3000

# ============================================================================
# VictoriaMetrics / Prometheus Configuration
# ============================================================================
PROMETHEUS_URL=http://localhost:9090
# For Docker: use http://victoriametrics:8428
# For remote VictoriaMetrics: http://172.18.186.48:8428

PROMETHEUS_TIMEOUT=10000
# Timeout for queries in milliseconds

PBS_EXPORTER_PREFIX=
# PBS Exporter Metrics Prefix (default: empty for standard pbs-exporter)

# VictoriaMetrics Authentication (optional)
# Option 1: Basic Auth
# PROMETHEUS_USERNAME=admin
# PROMETHEUS_PASSWORD=password
# Option 2: Bearer Token
# PROMETHEUS_TOKEN=your_bearer_token

# ============================================================================
# MySQL / XDMoD Configuration
# ============================================================================
MYSQL_HOST=localhost
# For Docker: use mysql (service name)

MYSQL_PORT=6033
# For Docker: use 3306 (internal port), exposed as 6033 externally

MYSQL_USER=root
MYSQL_PASSWORD=rootpassword
# ⚠️ IMPORTANT: Change this in production!

MYSQL_DATABASE=modw
MYSQL_CONNECTION_LIMIT=10

# ============================================================================
# Data & Caching
# ============================================================================
DATA_CACHE_TTL=30000
# Cache time-to-live in milliseconds

ANALYTICS_RETENTION_DAYS=90

# ============================================================================
# Historical Data Storage (Legacy)
# ============================================================================
ENABLE_HISTORY=false
# DB_TYPE=sqlite
# DB_PATH=./data/pbs_monitoring.db

# ============================================================================
# Logging
# ============================================================================
LOG_LEVEL=info
LOG_FILE=./logs/pbs-api.log

# ============================================================================
# Docker-specific Notes
# ============================================================================
# When running with Docker Compose:
# 1. Set PROMETHEUS_URL=http://victoriametrics:8428
# 2. Set MYSQL_HOST=mysql
# 3. Set MYSQL_PORT=3306 (internal Docker port)
# 4. Set API_HOST=0.0.0.0
#
# See DOCKER.md for detailed Docker setup instructions
